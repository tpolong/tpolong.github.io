<!DOCTYPE>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>高德瓦片</title>
    <link rel="stylesheet" href="https://unpkg.com/maptalks@1.0.0-rc.18/dist/maptalks.css">
    <script type="text/javascript" src="https://unpkg.com/maptalks@1.0.0-rc.18/dist/maptalks.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        #map {
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>
<body>
<div id="map"></div>
<script type="text/javascript">
  const config = {
    tileGD: "http://www.zyzcgis.xyz/tile/wg/mobile/gaode/",
    tileGDBZ: 'https://www.zyzcgis.xyz/tile/wg/mobile/gaodeBiaoZhu/',
  }
  var map = new maptalks.Map('map', {
    center: [108.426383,19.62696],
    zoom: 14,
    minZoom: 10,
    maxZoom: 19,
    attribution: false,


    baseLayer: new maptalks.GroupTileLayer('Base TileLayer', [
      new maptalks.TileLayer('base', {
      urlTemplate: 'http://wprd{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&z={z}&x={x}&y={y}&scl=1&ltype=11',
      subdomains: ['01', '02', '03', '04']
    }),
      new maptalks.TileLayer('wg', {
        urlTemplate: 'http://wprd{s}.is.autonavi.com/appmaptile?x={x}&y={y}&z={z}&lang=zh_cn&size=1&scl=1&style=8',
        subdomains: ['01', '02', '03', '04']
      })
    ])

  });
  var layer = new maptalks.VectorLayer('vector').addTo(map);

  var drawTool = new maptalks.DrawTool({
    mode: 'Point'
  }).addTo(map).disable();

  drawTool.on('drawend', function(param) {
    console.log(param.geometry);
    layer.addGeometry(param.geometry);
  });

  var items = ['Polygon', 'Circle', 'freeHandCircle','freeHandRectangle', 'Rectangle', 'FreeHandLineString', 'FreeHandPolygon'].map(function(value) {
    return {
      item: value,
      click: function() {
        drawTool.setMode(value).enable();
      }
    };
  });

  var toolbar = new maptalks.control.Toolbar({
    items: [{
      item: 'Shape',
      children: items
    }, {
      item: 'Disable',
      click: function() {
        drawTool.disable();
      }
    }, {
      item: 'Clear',
      click: function() {
        layer.clear();
      }
    }]
  }).addTo(map);
</script>
</body>
</html>
